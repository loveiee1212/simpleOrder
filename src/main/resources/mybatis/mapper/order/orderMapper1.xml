<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.team2.simpleOrder.dao.order.IOrderDao1">

	<!-- 좌석 카테고리 정보 select -->
	<select id="getTcList" parameterType="string" resultType="Order">
	SELECT * FROM SEAT_CT ORDER BY SC_CODE ASC
	</select>
	
	<!-- 좌석 정보 select -->
	<select id="getTList" parameterType="string" resultType="order">
	SELECT SC_NAME,ST.ST_NUM FROM SEAT_CT AS SC JOIN SEAT AS ST ON ST.C_CODE = #{c_code} AND SC.SC_CODE = ST.SC_CODE
	
	</select>
	
	<!-- 예약정보 select null이 아닐경우 특정일 조회 예약정보 select -->
	<select id="getReservList" parameterType="order" resultType="order">
	
	SELECT * FROM RESERVATION AS RSV JOIN RESERVATION_MEMO AS RSVM ON RSV.C_CODE = #{c_code}
	<if test="rsv_date!=null">
	<if test="rsv_date!=''">
	AND RSV.RSV_DATE BETWEEN TIMESTAMP(#{rsv_date}) AND TIMESTAMP(#{rsv_date})+INTERVAL '1' DAY
	</if>
	</if>
	ORDER BY RSV.RSV_DATE ASC
	</select>
	
	
	
	
</mapper>